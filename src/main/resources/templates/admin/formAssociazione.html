<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Registra Associazione</title>
</head>
<body>

<div>
    <h2>Registra Nuova Associazione</h2>

    <form th:action="@{/admin/registra-associazione}" 
          th:object="${associazione}" 
		  
          method="post" 
          enctype="multipart/form-data">
		  <div th:if="${#fields.hasGlobalErrors()}">
		        <p th:each="err : ${#fields.globalErrors()}" th:text="${err}">...</p>
		    </div>

        <!-- Nome -->
        <div>
            <label for="nome">Nome Associazione:</label>
            <input type="text" id="nome" th:field="*{nome}"  placeholder="Nome dell'associazione">
            <span th:if="${#fields.hasErrors('nome')}" th:errors="*{nome}"></span>
        </div>

        <!-- Indirizzo -->
        <div>
            <label for="indirizzo">Indirizzo:</label>
            <input type="text" id="indirizzo" th:field="*{indirizzo}"  placeholder="Indirizzo completo">
            <span th:if="${#fields.hasErrors('indirizzo')}" th:errors="*{indirizzo}"></span>
        </div>
		
		<div>
		    <label for="citta">Città:</label>
		    <select id="citta" th:field="*{citta}">
		        <option value="" disabled selected>Scegli una città</option>
		        <option th:each="c : ${citta}"
		                th:value="${c.id}" 
		                th:text="${c.nome}">Città</option>
		    </select>
		    <span th:if="${#fields.hasErrors('citta')}" th:errors="*{citta}"></span>
		</div>

        <!-- Anno di Fondazione -->
        <div>
            <label for="annoFondazione">Anno di Fondazione:</label>
            <input type="number" id="annoFondazione" th:field="*{annoFondazione}" min="1800" max="2100">
        </div>

        <!-- Partita IVA -->
        <div>
            <label for="partitaIVA">Partita IVA:</label>
            <input type="text" id="partitaIVA" th:field="*{partitaIVA}"  placeholder="Es: 01234567890">
            <span th:if="${#fields.hasErrors('partitaIVA')}" th:errors="*{partitaIVA}"></span>
        </div>

        <!-- Descrizione -->
        <div>
            <label for="descrizione">Descrizione:</label>
            <textarea id="descrizione" th:field="*{descrizione}" rows="5" maxlength="1000" placeholder="Descrizione dell'associazione"></textarea>
            <span th:if="${#fields.hasErrors('descrizione')}" th:errors="*{descrizione}"></span>
        </div>

        <!-- Telefono -->
        <div>
            <label for="telefono">Telefono:</label>
            <input type="text" id="telefono" th:field="*{telefono}"  placeholder="Es: +39 06 1234567">
            <span th:if="${#fields.hasErrors('telefono')}" th:errors="*{telefono}"></span>
        </div>

        <!-- Email -->
        <div>
            <label for="email">Email:</label>
            <input type="text" id="email" th:field="*{email}" placeholder="esempio@mail.com">
            <span th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></span>
        </div>

        <!-- Immagine -->
        <div>
            <label for="file">Immagine Associazione:</label>
            <input type="file" id="file" name="file" accept="image/*">
        </div>

        <button type="submit">Registra Associazione</button>
    </form>
</div>

</body>
</html>
