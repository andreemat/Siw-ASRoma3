<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:sec="http://www.thymeleaf.org/extras/springsecurity6"> <!-- Controlla se usi springsecurity5 o springsecurity6 -->



	<head>
		<meta charset="UTF-8">
		<title>ASRoma3 - Home</title>
	</head>
	<body>
		<div th:replace="fragments/navbar :: navbar"></div>

		<h1>Benvenuto nel portale dell' ASRoma3</h1>
		
		
     
        
		<!-- Blocco condizionale per gli Amministratori -->
		<!-- Ritorno all'uso di sec:authorize per la verifica dei ruoli, è più robusto e leggibile -->
		<div sec:authorize="hasRole('ADMIN')">
		    <p>You are an administrator!</p>
		    <a th:href="@{/registra-associazione}">registra associazione</a>
		</div>


		<h2>Associazioni disponibili</h2>
		<ul>
		    <li th:each="associazione : ${associazioni}">
		        <a th:href="@{'/associazione/' + ${associazione.id}}"
		           th:text="${associazione.nome}"></a>
		    </li>
		</ul>
	</body>
</html>
